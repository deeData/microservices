@{
    Layout = "~/Views/Shared/_LayoutPayment.cshtml";
}

<!-- Display a payment form -->
<div>
    <h1>Enter the following test credit card info into widget</h1>
    <h3>https://stripe.com/docs/testing</h3>
</div>





<div class="container">
    <form id="payment-form">
        <div id="card-element"><!--Stripe.js injects the Card Element--></div>
        <button id="submit">
            <div class="spinner hidden" id="spinner"></div>
            <span id="button-text">Pay now</span>
        </button>
        <p id="card-error" role="alert"></p>
        <p class="result-message hidden">
            Payment succeeded, see the result in your
            <a href="" target="_blank">Stripe dashboard.</a> Refresh the page to pay again.
        </p>
    </form>
</div>

<div class="row p-4">
    <div class="col-3">
        <div class="dropdown">
            <button class="btn btn-success dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Select Charge Amount$
            </button>
            <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton" id="amounts">
                <li class="dropdown-item" href="#">$0.01</li>
                <li class="dropdown-item" href="#">$0.02</li>
                <li class="dropdown-item" href="#">$0.03</li>
            </ul>
        </div>
    </div>
    <div class="col-2">
        <input type="text" id="amt" readonly />
    </div>
</div>

@*<partial
    name="_OrderEntryPartial"/>*@



@section Scripts{

    <script type="text/javascript">
        var amount1 = 0;
        $('#amounts li').on('click', function () {
            $('#amt').val($(this).text());
            amount1 = $('#amt').val();
            console.log(amount1);

            var purchase = {
                items: [{ id: "xl-tshirt", amount: amount1 }]
            };

        });



        var purchase = {
            items: [{ id: "xl-tshirt", amount: 2 }]
        };

    </script>

    <script src="https://js.stripe.com/v3/"></script>
    <script src="https://polyfill.io/v3/polyfill.min.js?version=3.52.1&features=fetch"></script>
    <script src="~/js/stripeClient.js" asp-append-version="true" defer></script>

}


